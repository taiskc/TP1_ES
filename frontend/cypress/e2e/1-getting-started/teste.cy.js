describe('Register', () => {
    before(() => {
        cy.request('DELETE', 'http://127.0.0.1:8000/remove/usuario/test_user')
      })
    it('register new user successfully', () => {
        cy.visit('http://localhost:3000')
        cy.contains('Cadastrar').click()
        cy.get('input[name="login"]')
            .type('test_user')
            .should('have.value','test_user')
            .get('input[name="senha"]')
            .type('123456')
            .should('have.value','123456')
            .get('input[name="email"]')
            .type('test_user@test.com')
            .should('have.value','test_user@test.com')
            .get('input[name="nome"]')
            .type('Test User')
            .should('have.value','Test User')
        cy.contains('Cadastrar', ).click()
        cy.contains('Login').should('have.class', 'sc-dkzDqf ksXaKt')
        })
    it('fail to register repeated user', () => {
            cy.visit('http://localhost:3000')
            cy.contains('Cadastrar').click()
            cy.get('input[name="login"]')
                .type('test_user')
                .should('have.value','test_user')
                .get('input[name="senha"]')
                .type('123456')
                .should('have.value','123456')
                .get('input[name="email"]')
                .type('test_user@test.com')
                .should('have.value','test_user@test.com')
                .get('input[name="nome"]')
                .type('Test User')
                .should('have.value','Test User')
            cy.contains('Cadastrar', ).click()
            cy.contains('JÃ¡ existe um objeto com esse valor').should('exist', 'sc-jSMfEi gKnknu')
            })
})
